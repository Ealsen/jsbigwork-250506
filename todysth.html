<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/main.css">
    <title>© 2025 JavaScript大作业</title>
    <script src="script/index.js"></script>
</head>

<body>
    <iframe id="personalFrame"
        style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80%; height: 85%; border: none; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1000; background: white; overflow: hidden;"></iframe>
    <div id="closeButton"
        style="display: none; position: fixed; top: calc(50% - 35% - 20px); right: calc(50% - 30% - 20px); cursor: pointer; background: #fff; border-radius: 50%; width: 30px; height: 30px; text-align: center; line-height: 30px; box-shadow: 0 2px 6px rgba(0,0,0,0.15); z-index: 1001;">
        ×</div>
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo-text" style="display: flex; align-items: center; cursor: pointer;"
                onclick="showPersonal()">
                <img src="src/logo.png" alt="logo">
                <h3>Ealsen</h3>
            </div>
        </div>
        <ul class="tree-menu" id="treeMenu">
            <li><a href="index.html">首页</a></li>
            <li>
                <a onclick="toggleSubmenu(this)">大作业基本功能</a>
                <ul class="submenu">
                    <li><a href="message.html">留言板</a></li>
                    <li><a href="./userForm.html">注册表单</a></li>
                </ul>
            </li>
            <li>
                <a onclick="toggleSubmenu(this)">扩展内容</a>
                <ul class="submenu">
                    <li><a href="./todolist.html">代办列表</a></li>
                    <li><a href="./calendar.html">日历</a></li>
                    <li><a href="./todysth.html">历史上的今天</a></li>
                </ul>
            </li>
            <li>
                <a onclick="toggleSubmenu(this)">更多</a>
                <ul class="submenu">
                    <li><a href="./callme.html">联系我</a></li>
                    <li><a href="./about.html">关于</a></li>
                </ul>
            </li>
            <li>
                <a onclick="toggleSubmenu(this)">状态码页</a>
                <ul class="submenu">
                    <li>
                        <a onclick="toggleSubmenu(this)">结果页</a>
                        <ul class="submenu">
                            <li><a href="./200.html">200</a></li>
                            <li><a href="./201.html">201</a></li>
                        </ul>
                    </li>
                    <li>
                        <a onclick="toggleSubmenu(this)">异常页</a>
                        <ul class="submenu">
                            <li><a href="./404.html">404</a></li>
                            <li><a href="./403.html">403</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="sidebar-footer">
            <p><a href="https://github.com/Ealsen" style="text-decoration: none;color: aliceblue;">© 2025
                    JavaScript大作业</a></p>
        </div>
    </div>


    <div class="main-content"
        style="background-image: url(src/zbg-omoaWks3.gif);background-position: center; overflow: hidden;padding: 0;">
        <iframe src="https://jintian.txcx.com/"
            style="width: 100%; height: 100%; border: none; border-radius: 8px; background: rgba(255, 255, 255, 0.95); box-shadow: 0 4px 12px rgba(0,0,0,0.15); overflow: hidden;"></iframe>
    </div>
    <style>
        .cursor {
            animation: blink 0.7s infinite;
            font-weight: bold;
            color: #333;
            margin-left: 3px;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }
    </style>
</body>

<script>
    /**
     * 显示个人信息页面的函数
     * 该函数通过iframe模态框的方式展示个人信息页面
     * 
     * 实现步骤：
     * 1. 获取iframe元素和关闭按钮的DOM引用
     * 2. 设置iframe的源地址为personal.html
     * 3. 显示iframe和关闭按钮
     */
    function showPersonal() {
        const frame = document.getElementById('personalFrame');
        const closeBtn = document.getElementById('closeButton');
        frame.src = './personal.html';
        frame.style.display = 'block';
        closeBtn.style.display = 'block';
    }

    /**
     * 关闭个人信息页面的函数
     * 该函数负责隐藏iframe模态框和清理相关资源
     * 
     * 实现步骤：
     * 1. 获取iframe元素和关闭按钮的DOM引用
     * 2. 隐藏iframe和关闭按钮
     * 3. 清空iframe的源地址以释放资源
     */
    function closePersonal() {
        const frame = document.getElementById('personalFrame');
        const closeBtn = document.getElementById('closeButton');
        frame.style.display = 'none';
        closeBtn.style.display = 'none';
        frame.src = '';
    }

    // 关闭按钮点击事件
    document.getElementById('closeButton').addEventListener('click', closePersonal);

    // 点击iframe外部关闭
    document.addEventListener('click', function (event) {
        const frame = document.getElementById('personalFrame');
        const closeBtn = document.getElementById('closeButton');
        if (frame.style.display === 'block' &&
            !frame.contains(event.target) &&
            !closeBtn.contains(event.target) &&
            !document.querySelector('.logo-text').contains(event.target)) {
            closePersonal();
        }
    });

    // ESC键关闭
    document.addEventListener('keydown', function (event) {
        if (event.key === 'Escape') {
            closePersonal();
        }
    });
</script>
</script>

</html>